sudo: false

language: elm
elm:
  - elm0.19.0

git:
  depth: false

if: branch = master

stages:
- Build ðŸ”¨

jobs:
  include:
    - stage: Build ðŸ”¨
      name: elm-format
      script:
      - FORMAT=$(elm-format --validate src/ tests/)
      - test "$FORMAT" = "[]" || (echo $FORMAT && exit 1)

    - stage: Build ðŸ”¨
      name: elm-make
      script:
      - elm make --optimize
